(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[2],{176:function(t,n,e){t.exports={card:"styles_card__2pija"}},213:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return U}));var a=e(151),c=e(0),r=e(212),o=e(211),i=e(203),u=e(22),s=e(36),b=function(t){return t.contacts.filter},l=function(t){return t.contacts.contacts},f=function(t){return t.contacts.loading},j=Object(s.a)([l,b],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),d=e(20),m=e.n(d),h=e(31),O=e(24),p=e.n(O),v=e(12),x=function(){return function(){var t=Object(h.a)(m.a.mark((function t(n){var e,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(v.l()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:e=t.sent,a=e.data,n(v.m(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(v.k(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(n){return t.apply(this,arguments)}}()},C=e(49),g=(e(175),e(5));var w=Object(u.b)((function(t){return{contacts:l(t)}}),(function(t){return{addContact:function(n){return t((e=n,function(t){t(v.b()),p.a.post("/contacts",e).then((function(n){var e=n.data;return t(v.c(e))})).catch((function(n){return t(v.a(n))}))}));var e}}}))((function(t){var n=t.contacts,e=t.addContact,u=Object(c.useState)(""),s=Object(a.a)(u,2),b=s[0],l=s[1],f=Object(c.useState)(""),j=Object(a.a)(f,2),d=j[0],m=j[1];return Object(g.jsx)("form",{onSubmit:function(t){switch(t.preventDefault(),!0){case""===b:return void C.b.error("Name can not be empty");case""===d:return void C.b.error("Number can not be empty");case!!n.find((function(t){return t.name.toLowerCase()===b.toLowerCase()})):return void C.b.error("".concat(b," already exist"));default:e({name:b,number:d}),C.b.info("".concat(b," saved")),l(""),m("")}},autoComplete:"off",children:Object(g.jsxs)(r.a,{display:"flex",flexDirection:"column",children:[Object(g.jsx)(o.a,{label:"Name",value:b,onChange:function(t){var n=t.target.value;l(n)},margin:"dense"}),Object(g.jsx)(o.a,{label:"Number",value:d,onChange:function(t){var n=t.target.value;m(n)},margin:"dense"}),Object(g.jsx)(i.a,{variant:"outlined",type:"submit",color:"primary",children:"add contact"})]})})}));var y=Object(u.b)((function(t){return{value:b(t)}}),(function(t){return{onChange:function(n){return t(v.g(n))}}}))((function(t){var n=t.onChange,e=t.value;return Object(g.jsx)("form",{autoComplete:"off",children:Object(g.jsx)(r.a,{display:"flex",flexDirection:"column",children:Object(g.jsx)(o.a,{label:"find contact by name",value:e,onChange:function(t){var e=t.target.value;n(e)},margin:"dense"})})})})),k=e(207),N=e(208),L=e(209),S=e(210),D=e(179),_=e.n(D),J=e(177),W=e.n(J),E=e(176),F=e.n(E),G=e(206),P=e(23),T=e(38),q=e(214),z=e(205),A=Object(z.a)((function(t){return{paper:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},btn:{width:"100%",marginTop:10}}})),B=Object(u.b)((function(t){return{contacts:l(t)}}),(function(t){return{changeContact:function(n){return t(function(t){var n=t.id,e=t.name,a=t.number;return function(t){var c={name:e,number:a};t(v.e()),p.a.patch("/contacts/".concat(n),c).then((function(n){var e=n.data;return t(v.f(e))})).catch((function(n){return t(v.d(n.message))}))}}(n))},fetchContacts:function(){return t(x())}}}))((function(t){var n=t.contacts,e=t.id,u=t.name,s=t.number,b=t.changeContact,l=t.fetchContacts,f=t.onClose,j=Object(T.a)(t,["contacts","id","name","number","changeContact","fetchContacts","onClose"]),d=A(),m=Object(c.useState)(u),h=Object(a.a)(m,2),O=h[0],p=h[1],v=Object(c.useState)(s),x=Object(a.a)(v,2),w=x[0],y=x[1];return Object(g.jsx)(q.a,Object(P.a)(Object(P.a)({},j),{},{onClose:f,children:Object(g.jsx)("div",{className:d.paper,children:Object(g.jsxs)("form",{onSubmit:function(t){switch(t.preventDefault(),!0){case""===O:return void C.b.error("Name can not be empty");case""===w:return void C.b.error("Number can not be empty");case O===u:return void f();case!!n.find((function(t){return t.name.toLowerCase()===O.toLowerCase()})):return void C.b.error("".concat(O," already exist"));default:b({id:e,name:O,number:w}),l(),C.b.info("saved"),f()}},autoComplete:"off",children:[Object(g.jsxs)(r.a,{display:"flex",flexWrap:"wrap",flexDirection:"column",children:[Object(g.jsx)(o.a,{label:"Name",value:O,onChange:function(t){var n=t.target.value;p(n)},margin:"dense"}),Object(g.jsx)(o.a,{label:"Number",value:w,onChange:function(t){var n=t.target.value;y(n)},margin:"dense"})]}),Object(g.jsx)(i.a,{className:d.btn,variant:"outlined",type:"submit",color:"primary",children:"edit contact"})]})})}))}));var H=Object(u.b)(null,(function(t){return{delContact:function(n){return t(function(t){return function(n){n(v.i()),p.a.delete("/contacts/".concat(t)).then((function(){return n(v.j(t))})).catch((function(t){return n(v.h(t))}))}}(n))}}}))((function(t){var n=t.id,e=t.name,o=t.number,i=t.delContact,u=Object(c.useState)(!1),s=Object(a.a)(u,2),b=s[0],l=s[1];return Object(g.jsxs)(G.a,{disableGutters:!0,children:[Object(g.jsx)(k.a,{variant:"outlined",className:F.a.card,children:Object(g.jsx)(N.a,{children:Object(g.jsx)(L.a,{children:Object(g.jsxs)(r.a,{display:"flex",justifyContent:"space-between",children:[Object(g.jsxs)("p",{children:[e,": ",o]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(S.a,{color:"primary",component:"span",onClick:function(t){l(!0)},children:Object(g.jsx)(W.a,{})}),Object(g.jsx)(S.a,{color:"primary",component:"span",onClick:function(){return function(t){i(t),C.b.info("".concat(e," deleted"))}(n)},children:Object(g.jsx)(_.a,{})})]})]})})})}),b&&Object(g.jsx)(B,{open:b,onClose:function(){l(!1)},name:e,number:o,id:n})]})})),I=e(204);var K=Object(u.b)((function(t){return{contacts:j(t)}}),(function(t){return{fetchContacts:function(){return t(x())}}}))((function(t){var n=t.contacts,e=t.fetchContacts;return Object(c.useEffect)((function(){e()}),[]),Object(g.jsx)(I.a,{children:n.map((function(t){var n=t.id,e=t.name,a=t.number;return Object(g.jsx)(H,{id:n,name:e,number:a},n)}))})})),M=e(65),Q=e(141),R=e(164);var U=Object(u.b)((function(t){return{isLoading:f(t)}}))((function(t){var n=t.isLoading;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Q.a,{maxWidth:"xs",children:[n&&Object(g.jsx)(M.a,{}),Object(g.jsx)(R.a,{align:"center",variant:"h2",children:"Phonebook"}),Object(g.jsx)(w,{}),Object(g.jsx)(R.a,{align:"center",variant:"h4",children:"Contacts"}),Object(g.jsx)(y,{}),Object(g.jsx)(K,{})]})})}))}}]);
//# sourceMappingURL=HomePage.7c256c64.chunk.js.map