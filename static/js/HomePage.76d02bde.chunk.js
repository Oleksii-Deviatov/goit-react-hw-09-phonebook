(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[2],{176:function(t,e,n){t.exports={card:"styles_card__2pija"}},213:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return U}));var a=n(150),c=n(0),r=n(212),o=n(211),i=n(203),u=n(21),s=n(35),b=function(t){return t.contacts.filter},l=function(t){return t.contacts.contacts},f=function(t){return t.contacts.loading},j=Object(s.a)([l,b],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),d=n(19),m=n.n(d),h=n(29),O=n(23),p=n.n(O),v=n(12),x=function(){return function(){var t=Object(h.a)(m.a.mark((function t(e){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(v.l()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:n=t.sent,a=n.data,e(v.m(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(v.k(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},g=n(151),C=(n(175),n(5));var w=Object(u.b)((function(t){return{contacts:l(t)}}),(function(t){return{addContact:function(e){return t((n=e,function(t){t(v.b()),p.a.post("/contacts",n).then((function(e){var n=e.data;return t(v.c(n))})).catch((function(e){return t(v.a(e))}))}));var n}}}))((function(t){var e=t.contacts,n=t.addContact,u=Object(c.useState)(""),s=Object(a.a)(u,2),b=s[0],l=s[1],f=Object(c.useState)(""),j=Object(a.a)(f,2),d=j[0],m=j[1];return Object(C.jsx)("form",{onSubmit:function(t){switch(t.preventDefault(),!0){case""===b:return void g.b.error("Name can not be empty");case""===d:return void g.b.error("Number can not be empty");case!!e.find((function(t){return t.name.toLowerCase()===b.toLowerCase()})):return void g.b.error("".concat(b," already exist"));default:n({name:b,number:d}),g.b.info("".concat(b," saved")),l(""),m("")}},autoComplete:"off",children:Object(C.jsxs)(r.a,{display:"flex",flexDirection:"column",children:[Object(C.jsx)(o.a,{label:"Name",value:b,onChange:function(t){var e=t.target.value;l(e)},margin:"dense"}),Object(C.jsx)(o.a,{label:"Number",value:d,onChange:function(t){var e=t.target.value;m(e)},margin:"dense"}),Object(C.jsx)(i.a,{variant:"outlined",type:"submit",color:"primary",children:"add contact"})]})})}));var y=Object(u.b)((function(t){return{value:b(t)}}),(function(t){return{onChange:function(e){return t(v.g(e))}}}))((function(t){var e=t.onChange,n=t.value;return Object(C.jsx)("form",{autoComplete:"off",children:Object(C.jsx)(r.a,{display:"flex",flexDirection:"column",children:Object(C.jsx)(o.a,{label:"find contact by name",value:n,onChange:function(t){var n=t.target.value;e(n)},margin:"dense"})})})})),k=n(207),N=n(208),L=n(209),S=n(210),D=n(179),_=n.n(D),F=n(177),J=n.n(F),P=n(176),T=n.n(P),W=n(206),B=n(22),E=n(37),G=n(214),H=n(205),q=Object(H.a)((function(t){return{paper:{position:"absolute",width:400,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},btn:{width:"100%",marginTop:10}}})),z=Object(u.b)((function(t){return{contacts:l(t)}}),(function(t){return{changeContact:function(e){return t(function(t){var e=t.id,n=t.name,a=t.number;return function(t){var c={name:n,number:a};t(v.e()),p.a.patch("/contacts/".concat(e),c).then((function(e){var n=e.data;return t(v.f(n))})).catch((function(e){return t(v.d(e.message))}))}}(e))},fetchContacts:function(){return t(x())}}}))((function(t){var e=t.contacts,n=t.id,u=t.name,s=t.number,b=t.changeContact,l=t.fetchContacts,f=t.onClose,j=Object(E.a)(t,["contacts","id","name","number","changeContact","fetchContacts","onClose"]),d=q(),m=Object(c.useState)(u),h=Object(a.a)(m,2),O=h[0],p=h[1],v=Object(c.useState)(s),x=Object(a.a)(v,2),w=x[0],y=x[1];return Object(C.jsx)(G.a,Object(B.a)(Object(B.a)({},j),{},{onClose:f,children:Object(C.jsx)("div",{className:d.paper,children:Object(C.jsxs)("form",{onSubmit:function(t){switch(t.preventDefault(),!0){case""===O:return void g.b.error("Name can not be empty");case""===w:return void g.b.error("Number can not be empty");case O===u:return void f();case!!e.find((function(t){return t.name.toLowerCase()===O.toLowerCase()})):return void g.b.error("".concat(O," already exist"));default:b({id:n,name:O,number:w}),l(),g.b.info("saved"),f()}},autoComplete:"off",children:[Object(C.jsxs)(r.a,{display:"flex",flexWrap:"wrap",flexDirection:"column",children:[Object(C.jsx)(o.a,{label:"Name",value:O,onChange:function(t){var e=t.target.value;p(e)},margin:"dense"}),Object(C.jsx)(o.a,{label:"Number",value:w,onChange:function(t){var e=t.target.value;y(e)},margin:"dense"})]}),Object(C.jsx)(i.a,{className:d.btn,variant:"outlined",type:"submit",color:"primary",children:"edit contact"})]})})}))}));var A=Object(u.b)(null,(function(t){return{delContact:function(e){return t(function(t){return function(e){e(v.i()),p.a.delete("/contacts/".concat(t)).then((function(){return e(v.j(t))})).catch((function(t){return e(v.h(t))}))}}(e))}}}))((function(t){var e=t.id,n=t.name,o=t.number,i=t.delContact,u=Object(c.useState)(!1),s=Object(a.a)(u,2),b=s[0],l=s[1];return Object(C.jsxs)(W.a,{disableGutters:!0,children:[Object(C.jsx)(k.a,{variant:"outlined",className:T.a.card,children:Object(C.jsx)(N.a,{children:Object(C.jsx)(L.a,{children:Object(C.jsxs)(r.a,{display:"flex",justifyContent:"space-between",children:[Object(C.jsxs)("p",{children:[n,": ",o]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(S.a,{color:"primary",component:"span",onClick:function(t){l(!0)},children:Object(C.jsx)(J.a,{})}),Object(C.jsx)(S.a,{color:"primary",component:"span",onClick:function(){return function(t){i(t),g.b.info("".concat(n," deleted"))}(e)},children:Object(C.jsx)(_.a,{})})]})]})})})}),b&&Object(C.jsx)(z,{open:b,onClose:function(){l(!1)},name:n,number:o,id:e})]})})),I=n(204);var K=Object(u.b)((function(t){return{contacts:j(t)}}),(function(t){return{fetchContacts:function(){return t(x())}}}))((function(t){var e=t.contacts,n=t.fetchContacts;return Object(c.useEffect)((function(){n()}),[]),Object(C.jsx)(I.a,{children:e.map((function(t){var e=t.id,n=t.name,a=t.number;return Object(C.jsx)(A,{id:e,name:n,number:a},e)}))})})),M=n(64),Q=n(140),R=n(164);var U=Object(u.b)((function(t){return{isLoading:f(t)}}))((function(t){var e=t.isLoading;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Q.a,{maxWidth:"xs",children:[e&&Object(C.jsx)(M.a,{}),Object(C.jsx)(R.a,{align:"center",variant:"h2",children:"Phonebook"}),Object(C.jsx)(w,{}),Object(C.jsx)(R.a,{align:"center",variant:"h4",children:"Contacts"}),Object(C.jsx)(y,{}),Object(C.jsx)(K,{})]}),Object(C.jsx)(g.a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}))}}]);
//# sourceMappingURL=HomePage.76d02bde.chunk.js.map